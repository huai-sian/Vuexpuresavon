(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a54b7b7c"],{"2cf6":function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("Bannerimg",[e("ProgressStep",{attrs:{current:t.step}})],1),e("div",{staticClass:"container checkOut"},[e("h3",[t._v(t._s(t.$t("Checkout.orderInfo")))]),e("div",{staticClass:"row listRow"},[e("div",{staticClass:"col-md-6 col-12",class:{typo__center:t.order.is_paid}},[e("ul",{staticClass:"order"},[e("p",[t._v(t._s(t.$t("Checkout.orderDate"))+" - "+t._s(t._f("date")(t.order.create_at)))]),e("p",[t._v(t._s(t.$t("Checkout.orderid"))+" - "),e("span",{staticClass:"orderid"},[t._v(t._s(t.order.id))])]),t._l(t.order.products,(function(s){return e("li",{key:s.id,staticClass:"orderList"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-6 p-0"},[e("div",{staticClass:"pro-title",on:{click:function(e){return e.preventDefault(),t.$router.push("/product_detail/"+s.product.id)}}},[t._v(t._s(s.product.title))])]),e("div",{staticClass:"col-2 p-0"},[e("div",{staticClass:"pro-qty"},[t._v(t._s(s.qty))])]),e("div",{staticClass:"col-4 p-0"},[e("div",{staticClass:"pro-price"},[t._v("NT"+t._s(t._f("currency")(t._f("floor")(s.final_total/s.qty))))])])])])})),e("li",{staticClass:"pt-2 summaryBlock"},[e("div",{staticClass:"row summaryList"},[e("div",{staticClass:"col-8 p-0 summary"},[t._v(t._s(t.$t("Checkout.summary")))]),e("div",{staticClass:"col-4 p-0 summary"},[t._v("NT"+t._s(t._f("currency")(t.order.total)))])])])],2),e("div",{staticClass:"order_info"},[e("table",{staticClass:"table"},[e("tr",[e("td",{staticClass:"title"},[t._v(t._s(t.$t("Checkout.name")))]),e("td",[t._v(t._s(t.order.user.name))])]),e("tr",[e("td",{staticClass:"title"},[t._v(t._s(t.$t("Checkout.telephone")))]),e("td",[t._v(t._s(t.order.user.tel))])]),e("tr",[e("td",{staticClass:"title"},[t._v("Email")]),e("td",[t._v(t._s(t.order.user.email))])]),e("tr",[e("td",{staticClass:"title"},[t._v(t._s(t.$t("Checkout.address")))]),e("td",[t._v(t._s(t.order.user.address))])]),e("tr",[e("td",{staticClass:"title"},[t._v(t._s(t.$t("Checkout.order_pay")))]),"CVS"===t.order.user.payment?e("td",[t._v(t._s(t.$t("Checkout.order_op1")))]):t._e(),"CTP"===t.order.user.payment?e("td",[t._v(t._s(t.$t("Checkout.order_op2")))]):t._e()]),e("tr",[e("td",{staticClass:"title"},[t._v(t._s(t.$t("Checkout.paid_condition")))]),t.order.is_paid?e("td",{staticClass:"complete"},[t._v(t._s(t.$t("Checkout.paid")))]):e("td",{staticClass:"incomplete"},[t._v(t._s(t.$t("Checkout.not_paid")))])])]),e("div",{staticClass:"endpay"},[t.order.is_paid?e("button",{on:{click:function(s){return s.preventDefault(),t.$router.push("/productlist")}}},[t._v(t._s(t.$t("Checkout.backtoshop")))]):t._e()])])]),t.order.is_paid?t._e():e("div",{staticClass:"col-md-6 col-12"},[e("div",{staticClass:"order_info"},[e("h3",{staticClass:"h3"},[t._v("信用卡資訊")]),t._m(0),e("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(s){var a=s.handleSubmit;return[e("form",{staticClass:"form_card",on:{submit:function(s){return s.preventDefault(),a(t.completePay)}}},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"card_number"}},[t._v(t._s(t.$t("Checkout.card_number"))),e("span",{staticClass:"marker"},[t._v("*")])]),e("ValidationProvider",{attrs:{rules:"required|cardnum"},scopedSlots:t._u([{key:"default",fn:function(s){var a=s.errors,r=s.classes;return[e("div",{class:r},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.cardmeta.num,expression:"cardmeta.num"}],staticClass:"form-control",attrs:{type:"text",name:"card_number",id:"card_number",placeholder:"xxxx-xxxx-xxxx-xxxx"},domProps:{value:t.cardmeta.num},on:{input:function(s){s.target.composing||t.$set(t.cardmeta,"num",s.target.value)}}}),e("span",{staticClass:"text-danger"},[t._v(t._s(a[0]))])])]}}],null,!0)})],1),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"card_owner"}},[t._v(t._s(t.$t("Checkout.card_owner"))),e("span",{staticClass:"marker"},[t._v("*")])]),e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(s){var a=s.errors,r=s.classes;return[e("div",{class:r},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.cardmeta.owner,expression:"cardmeta.owner"}],staticClass:"form-control",attrs:{type:"text",name:"card_owner",id:"card_owner"},domProps:{value:t.cardmeta.owner},on:{input:function(s){s.target.composing||t.$set(t.cardmeta,"owner",s.target.value)}}}),e("span",{staticClass:"text-danger"},[t._v(t._s(a[0]))])])]}}],null,!0)})],1),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"verify_num"}},[t._v(t._s(t.$t("Checkout.verify_num"))),e("span",{staticClass:"marker"},[t._v("*")])]),e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(s){var a=s.errors,r=s.classes;return[e("div",{class:r},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.cardmeta.verify,expression:"cardmeta.verify"}],staticClass:"form-control",attrs:{type:"text",name:"verify_num",id:"verify_num",maxlength:"3"},domProps:{value:t.cardmeta.verify},on:{input:function(s){s.target.composing||t.$set(t.cardmeta,"verify",s.target.value)}}}),e("span",{staticClass:"text-danger"},[t._v(t._s(a[0]))])])]}}],null,!0)})],1),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"expired"}},[t._v(t._s(t.$t("Checkout.expired"))),e("span",{staticClass:"marker"},[t._v("*")])]),e("ValidationProvider",{attrs:{rules:"required|date"},scopedSlots:t._u([{key:"default",fn:function(s){var a=s.errors,r=s.classes;return[e("div",{class:r},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.cardmeta.expiry,expression:"cardmeta.expiry"}],staticClass:"form-control",attrs:{type:"text",name:"expired",id:"expired","max-length":"5",placeholder:"MM/YY"},domProps:{value:t.cardmeta.expiry},on:{input:function(s){s.target.composing||t.$set(t.cardmeta,"expiry",s.target.value)}}}),e("span",{staticClass:"text-danger"},[t._v(t._s(a[0]))])])]}}],null,!0)})],1),e("div",{staticClass:"endpay"},[t.order.is_paid?t._e():e("button",{attrs:{type:"submit"}},[t._v(t._s(t.$t("Checkout.go_paid")))])])])]}}],null,!1,2983346466)})],1)])])]),e("div",{staticClass:"modal fade",attrs:{id:"endPayModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content"},[t._m(1),e("div",{staticClass:"modal-body p-3 d-flex align-items-center justify-content-center"},[e("i",{staticClass:"fas fa-clipboard-check"}),e("h3",{staticClass:"ml-2"},[t._v(t._s(t.$t("Checkout.checkoutModal1"))),e("br"),t._v(t._s(t.$t("Checkout.checkoutModal2")))])])])])])],1)},r=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"d-flex card_support"},[a("p",[t._v("支援使用卡種類")]),a("span",{staticClass:"d-flex"},[a("div",{staticClass:"imagefr"},[a("img",{attrs:{src:e("f73a"),alt:""}})]),a("div",{staticClass:"imagefr"},[a("img",{attrs:{src:e("2dac"),alt:""}})]),a("div",{staticClass:"imagefr"},[a("img",{attrs:{src:e("6d0f"),alt:""}})])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[t._v("PURE SAVON")]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],i=(e("99af"),e("faba")),o=e("ea8a"),c=e("1157"),d=e.n(c),l={name:"Checkout",components:{Bannerimg:i["a"],ProgressStep:o["a"]},data:function(){return{step:3,orderId:"",order:{user:{}},cardmeta:{num:"",owner:"",verify:"",expiry:""}}},methods:{getOrder:function(){var t=this,s=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("exploreu","/order/").concat(s.orderId);s.$store.dispatch("updateLoading",!0),s.$http.get(e).then((function(e){console.log(e.data.order),e.data.success?s.order=e.data.order:(t.$store.dispatch("alertMessageModules/updateMessage",{message:e.data.message,status:"danger"}),t.$router.push("/productlist")),s.$store.dispatch("updateLoading",!1)}))},completePay:function(){var t=this,s=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("exploreu","/pay/").concat(s.orderId);s.$store.dispatch("updateLoading",!0),s.$http.post(e).then((function(e){e.data.success?(s.getOrder(),d()("#endPayModal").modal("show")):t.$store.dispatch("alertMessageModules/updateMessage",{message:e.data.message,status:"danger"}),s.$store.dispatch("updateLoading",!1)}))}},created:function(){this.orderId=this.$route.params.order_id,this.getOrder()}},n=l,u=e("2877"),p=Object(u["a"])(n,a,r,!1,null,null,null);s["default"]=p.exports},"2dac":function(t,s,e){t.exports=e.p+"img/mastercard.b34381c4.svg"},"6d0f":function(t,s,e){t.exports=e.p+"img/jcb.5320bc5a.svg"},ea8a:function(t,s,e){"use strict";var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"progressStep"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-4"},[e("div",{staticClass:"step",class:{now:1===t.current}},[e("p",[t._v(t._s(t.$t("Progress_step.step1")))])])]),e("div",{staticClass:"col-4"},[e("div",{staticClass:"step",class:{now:2===t.current}},[e("p",[t._v(t._s(t.$t("Progress_step.step2")))])])]),e("div",{staticClass:"col-4"},[e("div",{staticClass:"step",class:{now:3===t.current}},[e("p",[t._v(t._s(t.$t("Progress_step.step3")))])])])])])},r=[],i={name:"ProgressStep",props:["current"]},o=i,c=e("2877"),d=Object(c["a"])(o,a,r,!1,null,null,null);s["a"]=d.exports},f73a:function(t,s,e){t.exports=e.p+"img/visa.17821423.svg"},faba:function(t,s,e){"use strict";var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",{staticClass:"container-fluid bannerimg"},[t._t("default")],2)])},r=[],i={name:"Bannerimg"},o=i,c=e("2877"),d=Object(c["a"])(o,a,r,!1,null,null,null);s["a"]=d.exports}}]);
//# sourceMappingURL=chunk-a54b7b7c.cea7423c.js.map