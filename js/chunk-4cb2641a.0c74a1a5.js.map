{"version":3,"sources":["webpack:///./src/components/pagination.vue?ca83","webpack:///src/components/pagination.vue","webpack:///./src/components/pagination.vue?a88e","webpack:///./src/components/pagination.vue","webpack:///./src/views/back/orders.vue?d891","webpack:///src/views/back/orders.vue","webpack:///./src/views/back/orders.vue?364f","webpack:///./src/views/back/orders.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","class","pages","has_pre","attrs","on","$event","preventDefault","changepage","current_page","_v","_l","page","key","_s","has_next","staticRenderFns","props","methods","$emit","component","_m","item","id","_f","create_at","user","name","product","i","title","qty","unit","total","openModal","pagination","getOrders","tempOrder","email","tel","address","price","hasOwnProperty","coupon","percent","data","orders","products","components","Pagination","vm","$store","dispatch","$http","get","api","then","response","Object","assign","created"],"mappings":"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","file":"js/chunk-4cb2641a.0c74a1a5.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"d-flex justify-content-center align-items-center\"},[_c('ul',{staticClass:\"pages\"},[_c('li',{staticClass:\"page\",class:{'disabled':!_vm.pages.has_pre}},[_c('a',{staticClass:\"pageNum\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.changepage(_vm.pages.current_page-1)}}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"<\")])])]),_vm._l((_vm.pages.total_pages),function(page){return _c('li',{key:page,staticClass:\"page\",class:{'active':_vm.pages.current_page===page}},[_c('a',{staticClass:\"pageNum\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.changepage(page)}}},[_vm._v(_vm._s(page))])])}),_c('li',{staticClass:\"page\",class:{'disabled':!_vm.pages.has_next}},[_c('a',{staticClass:\"pageNum\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.changepage(_vm.pages.current_page+1)}}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\">\")])])])],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class='d-flex justify-content-center align-items-center'>\n        <ul class=\"pages\">\n            <li class=\"page\" :class=\"{'disabled':!pages.has_pre}\">\n                <a class=\"pageNum\" href=\"#\"  @click.prevent=\"changepage(pages.current_page-1)\">\n                    <span aria-hidden=\"true\">&#60;</span>\n                </a>\n            </li>\n            <li class=\"page\" v-for=\"page in pages.total_pages\" :key=\"page\" :class=\"{'active':pages.current_page===page}\">\n                <a class=\"pageNum\" href=\"#\" @click.prevent=\"changepage(page)\">{{page}}</a>\n            </li>\n            <li class=\"page\" :class=\"{'disabled':!pages.has_next}\">\n                <a class=\"pageNum\" href=\"#\"  @click.prevent=\"changepage(pages.current_page+1)\">\n                    <span aria-hidden=\"true\">&#62;</span>\n                </a>\n            </li>\n        </ul>\n    </div>\n</template>\n<script>\nexport default {\n  props: ['pages'],\n  methods: {\n    changepage (page) {\n      this.$emit('switchpage', page)\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pagination.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pagination.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./pagination.vue?vue&type=template&id=5f519169&\"\nimport script from \"./pagination.vue?vue&type=script&lang=js&\"\nexport * from \"./pagination.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('table',{staticClass:\"table mt-4\"},[_vm._m(0),_c('tbody',_vm._l((_vm.orders),function(item){return _c('tr',{key:item.id},[_c('td',[_vm._v(_vm._s(_vm._f(\"date\")(item.create_at)))]),_c('td',[_vm._v(_vm._s(item.user.name))]),_c('td',[_c('ul',_vm._l((item.products),function(product,i){return _c('li',{key:i},[_vm._v(\" \"+_vm._s(product.product.title)+\" 數量：\"+_vm._s(product.qty)+_vm._s(product.product.unit)+\" \")])}),0)]),_c('td',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm._f(\"currency\")(item.total)))]),_c('td',[(item.is_paid)?_c('span',{staticClass:\"ispaid\"},[_vm._v(\"已付款\")]):_c('span',{staticClass:\"unpaid\"},[_vm._v(\"未付款\")])]),_c('td',[_c('button',{staticClass:\"btn btn-open btn-sm\",on:{\"click\":function($event){$event.preventDefault();return _vm.openModal(item)}}},[_vm._v(\"查看\")])])])}),0)]),_c('Pagination',{attrs:{\"pages\":_vm.pagination},on:{\"switchpage\":_vm.getOrders}}),_c('div',{staticClass:\"modal fade\",attrs:{\"id\":\"openOrModal\",\"tabindex\":\"-1\",\"role\":\"dialog\",\"aria-labelledby\":\"exampleModalLabel\",\"aria-hidden\":\"true\"}},[_c('div',{staticClass:\"modal-dialog\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content border-0\"},[_vm._m(1),_c('div',{staticClass:\"modal-body\"},[_c('div',{staticClass:\"my-2\"},[_vm._v(\"訂購人姓名：\"+_vm._s(_vm.tempOrder.user.name))]),_c('div',{staticClass:\"my-2\"},[_vm._v(\"訂單編號：\"+_vm._s(_vm.tempOrder.id))]),_c('div',{staticClass:\"my-2\"},[_vm._v(\"訂購日期：\"+_vm._s(_vm.tempOrder.create_at))]),(_vm.tempOrder.is_paid)?_c('div',{staticClass:\"my-2\"},[_vm._v(\"付款狀態：已付款\")]):_c('div',{staticClass:\"my-2\"},[_vm._v(\"付款狀態：未付款\")]),_c('div',{staticClass:\"my-2\"},[_vm._v(\"Email：\"+_vm._s(_vm.tempOrder.user.email))]),_c('div',{staticClass:\"my-2\"},[_vm._v(\"手機號碼：\"+_vm._s(_vm.tempOrder.user.tel))]),_c('div',{staticClass:\"my-2\"},[_vm._v(\"收件地址：\"+_vm._s(_vm.tempOrder.user.address))]),_c('table',{staticClass:\"table mt-4\"},[_vm._m(2),_c('tbody',[_vm._l((_vm.tempOrder.products),function(item){return _c('tr',{key:item.id},[_c('td',[_vm._v(_vm._s(item.product.title))]),_c('td',[_vm._v(_vm._s(item.qty))]),_c('td',[_vm._v(\"NT\"+_vm._s(_vm._f(\"currency\")(item.product.price)))]),_c('td',[_vm._v(\"NT\"+_vm._s(_vm._f(\"currency\")(item.total)))]),(item.hasOwnProperty('coupon'))?_c('td',[_vm._v(_vm._s(item.coupon.percent)+\"%\")]):_c('td',[_vm._v(\"未使用\")])])}),_c('tr',[_c('td',{attrs:{\"colspan\":\"5\"}},[_vm._v(\"應付金額\")]),_c('td',[_vm._v(\"NT\"+_vm._s(_vm._f(\"currency\")(_vm.tempOrder.total)))])])],2)])]),_vm._m(3)])])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',{attrs:{\"width\":\"130\"}},[_vm._v(\"購買時間\")]),_c('th',[_vm._v(\"姓名\")]),_c('th',[_vm._v(\"購買款項\")]),_c('th',{attrs:{\"width\":\"120\"}},[_vm._v(\"應付金額\")]),_c('th',{attrs:{\"width\":\"120\"}},[_vm._v(\"是否付款\")]),_c('th',{attrs:{\"width\":\"130\"}},[_vm._v(\"詳細資訊\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-header text-white\"},[_c('h5',{staticClass:\"modal-title\",attrs:{\"id\":\"exampleModalLabel\"}},[_c('span',{staticClass:\"text-light\"},[_vm._v(\"訂單資訊\")])]),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',{attrs:{\"width\":\"130\"}},[_vm._v(\"品項\")]),_c('th',{attrs:{\"width\":\"80\"}},[_vm._v(\"數量\")]),_c('th',{attrs:{\"width\":\"100\"}},[_vm._v(\"單價\")]),_c('th',{attrs:{\"width\":\"110\"}},[_vm._v(\"小計\")]),_c('th',{attrs:{\"width\":\"110\"}},[_vm._v(\"優惠\")]),_c('th',{attrs:{\"width\":\"110\"}},[_vm._v(\"總計\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-footer\"},[_c('button',{staticClass:\"btn btn-close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"}},[_vm._v(\"關閉\")])])}]\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <table class=\"table mt-4\">\n           <thead>\n               <tr>\n                    <th width=\"130\">購買時間</th>\n                    <th>姓名</th>\n                    <th>購買款項</th>\n                    <th width=\"120\">應付金額</th>\n                    <th width=\"120\">是否付款</th>\n                    <th width=\"130\">詳細資訊</th>\n               </tr>\n           </thead>\n           <tbody>\n               <tr v-for=\"item in orders\" :key=\"item.id\">\n                   <td>{{item.create_at | date}}</td>\n                   <td>{{item.user.name}}</td>\n                   <td>\n                       <ul>\n                           <li v-for=\"(product,i) in item.products\" :key=\"i\">\n                               {{product.product.title}}\n                               數量：{{product.qty}}{{product.product.unit}}\n                           </li>\n                       </ul>\n                  </td>\n                   <td class=\"text-right\">{{item.total | currency}}</td>\n                   <td>\n                       <span v-if=\"item.is_paid\" class='ispaid'>已付款</span>\n                       <span v-else class='unpaid'>未付款</span>\n                   </td>\n                  <td>\n                    <button class=\"btn btn-open btn-sm\" @click.prevent=\"openModal(item)\">查看</button>\n                  </td>\n               </tr>\n           </tbody>\n       </table>\n       <Pagination :pages='pagination' @switchpage=\"getOrders\"></Pagination>\n        <div class=\"modal fade\" id=\"openOrModal\" tabindex=\"-1\" role=\"dialog\"\n      aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n          <div class=\"modal-dialog\" role=\"document\">\n            <div class=\"modal-content border-0\">\n                <div class=\"modal-header text-white\">\n                  <h5 class=\"modal-title\" id=\"exampleModalLabel\">\n                    <span class='text-light'>訂單資訊</span>\n                  </h5>\n                  <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                    <span aria-hidden=\"true\">&times;</span>\n                  </button>\n                </div>\n                <div class=\"modal-body\">\n                  <div class='my-2'>訂購人姓名：{{tempOrder.user.name}}</div>\n                  <div class='my-2'>訂單編號：{{tempOrder.id}}</div>\n                  <div class='my-2'>訂購日期：{{tempOrder.create_at}}</div>\n                  <div class='my-2' v-if=\"tempOrder.is_paid\">付款狀態：已付款</div>\n                  <div class='my-2' v-else>付款狀態：未付款</div>\n                  <div class='my-2'>Email：{{tempOrder.user.email}}</div>\n                  <div class='my-2'>手機號碼：{{tempOrder.user.tel}}</div>\n                  <div class='my-2'>收件地址：{{tempOrder.user.address}}</div>\n                   <table class=\"table mt-4\">\n                    <thead>\n                        <tr>\n                              <th width=\"130\">品項</th>\n                              <th width=\"80\">數量</th>\n                              <th width=\"100\">單價</th>\n                              <th width=\"110\">小計</th>\n                              <th width=\"110\">優惠</th>\n                              <th width=\"110\">總計</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr v-for=\"item in tempOrder.products\" :key=\"item.id\">\n                            <td>{{item.product.title}}</td>\n                            <td>{{item.qty}}</td>\n                            <td>NT{{item.product.price | currency}}</td>\n                            <td>NT{{item.total | currency}}</td>\n                            <td v-if=\"item.hasOwnProperty('coupon')\">{{item.coupon.percent}}%</td>\n                            <td v-else>未使用</td>\n                        </tr>\n                        <tr>\n                          <td colspan='5'>應付金額</td>\n                          <td>NT{{tempOrder.total | currency}}</td>\n                        </tr>\n                    </tbody>\n                  </table>\n                </div>\n                <div class=\"modal-footer\">\n                  <button type=\"button\" class=\"btn btn-close\" data-dismiss=\"modal\">關閉</button>\n                </div>\n            </div>\n            </div>\n      </div>\n    </div>\n</template>\n<script>\nimport Pagination from '../../components/pagination'\nimport $ from 'jquery'\nexport default {\n  data () {\n    return {\n      pagination: {},\n      orders: [],\n      tempOrder: {\n        user: {},\n        products: {}\n      }\n    }\n  },\n  components: {\n    Pagination\n  },\n  methods: {\n    getOrders (page = 1) {\n      const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/admin/orders?page=${page}`\n      const vm = this\n      vm.$store.dispatch('updateLoading', true)\n      this.$http.get(api).then((response) => {\n        vm.orders = response.data.orders\n        vm.$store.dispatch('updateLoading', false)\n        vm.pagination = response.data.pagination\n      })\n    },\n    openModal (item) {\n      $('#openOrModal').modal('show')\n      this.tempOrder = Object.assign({}, item)\n    }\n  },\n  created () {\n    this.getOrders()\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./orders.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./orders.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./orders.vue?vue&type=template&id=ab5ff54e&\"\nimport script from \"./orders.vue?vue&type=script&lang=js&\"\nexport * from \"./orders.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}